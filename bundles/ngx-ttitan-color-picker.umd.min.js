!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/index"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-ttitan-color-picker",["exports","@angular/core","rxjs/index","@angular/common"],t):t(e["ngx-ttitan-color-picker"]={},e.ng.core,e.rxjs.index,e.ng.common)}(this,function(e,r,t,i){"use strict";var o=function(){function e(){this.pickerList=[],this.pallets=[],this.mouseMoveObservable=t.fromEvent(document,"mousemove"),this.mouseUpObservable=t.fromEvent(document,"mouseup"),this.fillBasePallets()}return e.prototype.saturationChange=function(e,t){t.hsva.saturation=e.x,t.hsva.value=100-e.y,this.dataToColor(t)},e.prototype.hueChange=function(e,t){t.hsva.hue=Math.round(360*e.y/100),this.dataToColor(t)},e.prototype.alphaChange=function(e,t){t.hsva.alpha=(100-e.y)/100,this.dataToColor(t)},e.prototype.dataToColor=function(e){var t=this.hsvaToRgba(e.hsva.hue,e.hsva.saturation,e.hsva.value,e.hsva.alpha),r=this.hsvaToRgba(e.hsva.hue,100,100,e.hsva.alpha);e.currentColor="rgb("+t[0]+","+t[1]+","+t[2]+")",e.currentColorMax="rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")",e.currentColorAlpha="rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")",e.currentColorAlphaZero="rgba("+t[0]+","+t[1]+","+t[2]+",0)",e.setInputValue(),e.updateReturnColor()},e.prototype.colorToData=function(e,t){switch(this.detectColorType(e)){case"rgba":this.parseRgbaColor(e,t);break;case"rgb":this.parseRgbColor(e,t);break;case"hsla":this.parseHslaColor(e,t);break;case"hsl":this.parseHslColor(e,t);break;case"hex6":case"hex8":this.parseHexColor(e,t)}this.dataToColor(t)},e.prototype.getPickerUuid=function(){for(var e="",t=0;t<1e3;t++)if(e="picker-"+this.pickerList.length+"-"+t,-1===this.pickerList.indexOf(e))return this.pickerList.push(e),e},e.prototype.detectColorType=function(e){return-1!==e.indexOf("rgba")?"rgba":-1!==e.indexOf("rgb")?"rgb":-1!==e.indexOf("hsla")?"hsla":-1!==e.indexOf("hsl")?"hsl":-1===e.indexOf("#")||4!=e.length&&7!=e.length?-1!==e.indexOf("#")&&9==e.length?"hex8":"undefined":"hex6"},e.prototype.fillValuesFromHsvaArr=function(e,t){t.hsva.hue=e[0],t.hsva.saturation=e[1],t.hsva.value=e[2],t.hsva.alpha=e[3]},e.prototype.parseRgbaColor=function(e,t){var r=e.replace("rgba(","").replace(")","").split(",");4==r.length&&this.fillValuesFromHsvaArr(this.rgbaToHsva(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]),parseFloat(r[3])),t)},e.prototype.parseRgbColor=function(e,t){var r=e.replace("rgb(","").replace(")","").split(",");3==r.length&&this.fillValuesFromHsvaArr(this.rgbaToHsva(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]),1),t)},e.prototype.parseHslaColor=function(e,t){var r=e.replace("hsla(","").replace(")","").replace("%","").split(",");4==r.length&&this.fillValuesFromHsvaArr(this.hslaToHsva(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]),parseFloat(r[3])),t)},e.prototype.parseHslColor=function(e,t){var r=e.replace("hsl(","").replace(")","").replace("%","").split(",");3==r.length&&this.fillValuesFromHsvaArr(this.hslaToHsva(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]),1),t)},e.prototype.parseHexColor=function(e,t){var r=e.replace("#","");this.fillValuesFromHsvaArr(this.hexToHsva(r),t)},e.prototype.hsvaToRgba=function(e,t,r,i){var o,n,a,s,c,l,p,h;switch(n=(r/=100)*(1-(t/=100)),a=r*(1-t*(o=(e=e<360?e:359)/60-(c=Math.floor(e/60)))),s=r*(1-(1-o)*t),c){case 0:l=r,p=s,h=n;break;case 1:l=a,p=r,h=n;break;case 2:l=n,p=r,h=s;break;case 3:l=n,p=a,h=r;break;case 4:l=s,p=n,h=r;break;case 5:l=r,p=n,h=a}return[Math.round(255*l),Math.round(255*p),Math.round(255*h),i]},e.prototype.hsvaToRgbaString=function(e,t,r,i,o){void 0===o&&(o=!1);var n=this.hsvaToRgba(e,t,r,i);return o?"rgba("+n.join(",")+")":(n.pop(),"rgb("+n.join(",")+")")},e.prototype.rgbaToHsva=function(e,t,r,i){e/=255,t/=255,r/=255;var o,n,a=Math.max(e,t,r),s=Math.min(e,t,r),c=a,l=a-s;if(n=0==a?0:l/a,a==s)o=0;else{switch(a){case e:o=(t-r)/l+(t<r?6:0);break;case t:o=(r-e)/l+2;break;case r:o=(e-t)/l+4}o/=6}return[360*o,100*n,100*c,i]},e.prototype.hsvaToHsla=function(e,t,r,i){return t/=100,r/=100,[Math.round(e),Math.round(t*r/((e=(2-t)*r)<1?e:2-e)*100),Math.round(e/2*100),i]},e.prototype.hslaToHsva=function(e,t,r,i){return t/=100,t*=(r/=100)<.5?r:1-r,[e,Math.round(2*t/(r+t)*100),Math.round(100*(r+t)),i]},e.prototype.hexToHsva=function(e){var t=[0,0,0,1];return 6==e.length?t=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),1]:3==e.length?t=[parseInt(e.substring(0,1)+e.substring(0,1),16),parseInt(e.substring(1,2)+e.substring(1,2),16),parseInt(e.substring(2,3)+e.substring(2,3),16),1]:8==e.length&&(t=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),parseFloat((parseInt(e.substring(6,8),16)/255).toFixed(2))]),this.rgbaToHsva(t[0],t[1],t[2],t[3])},e.prototype.hsvaToHex=function(e,t,r,i,o){void 0===o&&(o=!0);var n=this.hsvaToRgba(e,t,r,i),a=o?(255*n[3]).toString(16).substring(0,2):"";return o&&(a=1==a.length?a+a:a),"#"+(n[2]|n[1]<<8|n[0]<<16|1<<24).toString(16).slice(1)+a},e.prototype.validateColorFormat=function(e,t){switch(t){case"hex6":return this.validateHexFormat(e);case"hex8":return this.validateHexFormat(e,!0);case"rgb":return this.validateRgbaFormat(e);case"rgba":return this.validateRgbaFormat(e,!0)}return"notValid"},e.prototype.validateHexFormat=function(e,t){void 0===t&&(t=!1);if(e=e.replace("#",""),t){if(8===e.length&&!isNaN(parseInt(e,16)))return"#"+e}else if(6===e.length&&!isNaN(parseInt(e,16)))return"#"+e;return"notValid"},e.prototype.validateRgbaFormat=function(e,t){void 0===t&&(t=!1);var r=(e=e.replace(/[^0-9\,]+/g,"")).split(","),i="";if(t){if(4==r.length&&(i=parseFloat(r.pop()),r=r.map(function(e){return parseInt(e)}),Math.max.apply(null,r)<=255&&0<=Math.min.apply(null,r)&&0<=i&&i<=1))return r.push(i),"rgba("+r.join(",")+")"}else if(3==r.length&&(r=r.map(function(e){return parseInt(e)}),Math.max.apply(null,r)<=255&&0<=Math.min.apply(null,r)))return"rgb("+r.join(",")+")";return"notValid"},e.prototype.prepareReturnColor=function(e,t){switch(t){case"hex6":return this.hsvaToHex(e.hue,e.saturation,e.value,1,!1);case"hex8":return this.hsvaToHex(e.hue,e.saturation,e.value,e.alpha,!0);case"rgb":return this.hsvaToRgbaString(e.hue,e.saturation,e.value,1);case"rgba":return this.hsvaToRgbaString(e.hue,e.saturation,e.value,e.alpha,!0)}return this.hsvaToHex(e.hue,e.saturation,e.value,1,!1)},e.prototype.preparePickerPallets=function(t,e,r){void 0===t&&(t=[]),void 0===e&&(e=[]),r.pickerPallets=[],this.pallets.forEach(function(e){-1!==t.indexOf(e.id)&&r.pickerPallets.push(e)}),e.forEach(function(e){r.pickerPallets.push(e)})},e.prototype.fillBasePallets=function(){this.pallets.push({id:"polaris",name:"Polaris",colors:["#F9FAFB","#F4F6F8","#DFE3E8","#C4CDD5","#919EAB","#637381","#454F5B","#212B36","#B3B5CB","#43467F","#1C2260","#00044C","#F6F0FD","#E3D0FF","#9C6ADE","#50248F","#230051","#F4F5FA","#B3BCF5","#5C6AC4","#202E78","#000639","#EBF5FA","#B4E1FA","#007ACE","#084E8A","#001429","#E0F5F5","#B7ECEC","#47C1BF","#00848E","#003135","#E3F1DF","#BBE5B3","#50B83C","#108043","#173630","#FCF1CD","#FFEA8A","#EEC200","#9C6F19","#573B00","#FCEBDB","#FFC58B","#F49342","#C05717","#4A1504","#FBEAE5","#FEAD9A","#DE3618","#BF0711","#330101"]}),this.pallets.push({id:"material",name:"Material",colors:["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#ff8a80","#ff5252","#ff1744","#d50000","#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#ff80ab","#ff4081","#f50057","#c51162","#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ea80fc","#e040fb","#d500f9","#aa00ff","#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#b388ff","#7c4dff","#651fff","#6200ea","#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#8c9eff","#536dfe","#3d5afe","#304ffe","#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#82b1ff","#448aff","#2979ff","#2962ff","#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#80d8ff","#40c4ff","#00b0ff","#0091ea","#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#84ffff","#18ffff","#00e5ff","#00b8d4","#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#a7ffeb","#64ffda","#1de9b6","#00bfa5","#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#b9f6ca","#69f0ae","#00e676","#00c853","#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#ccff90","#b2ff59","#76ff03","#64dd17","#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#f4ff81","#eeff41","#c6ff00","#aeea00","#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#ffff8d","#ffff00","#ffea00","#ffd600","#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00","#ffe57f","#ffd740","#ffc400","#ffab00","#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#ffd180","#ffab40","#ff9100","#ff6d00","#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c","#ff9e80","#ff6e40","#ff3d00","#dd2c00","#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723","#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121","#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238"]})},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]},e}(),n=function(){function e(){this.pallets=[],this.change=new r.EventEmitter,this.activePalette=null}return e.prototype.ngOnInit=function(){},e.prototype.closePalette=function(){this.activePalette=null},e.prototype.selectPalette=function(e){this._context.closePicker(),null==this.activePalette?this.activePalette=e:this.activePalette.id!==e.id&&(this.activePalette=e)},e.prototype.colorSelected=function(e){this.change.emit(e)},e.decorators=[{type:r.Component,args:[{selector:"lib-ngx-ttitan-color-picker-palette-list",template:'<div class="picker-palette-wrapper" *ngIf="pallets.length > 0">\n  <div class="palette-links">\n    <div\n      class="palette-link"\n      *ngFor="let palette of pallets"\n      [ngClass]="{\'selected\': (activePalette !== null && activePalette.id == palette.id)}"\n      (click)="selectPalette(palette)"\n    >\n      {{palette.name}}\n    </div>\n  </div>\n  <div class="palette-picker-holder" *ngIf="activePalette !== null && activePalette.colors.length > 0">\n    <div\n      class="palette-color"\n      *ngFor="let color of activePalette.colors"\n      [ngStyle]="{\n        backgroundColor: color\n      }"\n      (click)="colorSelected(color)"\n    >\n\n    </div>\n  </div>\n</div>\n',styles:[":host .picker-palette-wrapper .palette-links{display:flex;flex-wrap:wrap;margin-bottom:5px}:host .picker-palette-wrapper .palette-links .palette-link{margin-right:5px;border-radius:3px;padding:2px 4px;border:1px solid #ddd;text-transform:uppercase;font-size:10px;font-family:-apple-system,BlinkMacSystemFont,San Francisco,Roboto,Segoe UI,Helvetica Neue,sans-serif;font-weight:600;background-color:#fff;cursor:pointer}:host .picker-palette-wrapper .palette-links .palette-link.selected{background-color:#5e6bc5;color:#fff}:host .picker-palette-wrapper .palette-picker-holder{height:165px;display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:flex-start;align-content:baseline}:host .picker-palette-wrapper .palette-picker-holder .palette-color{cursor:pointer;width:10px;height:10px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={pallets:[{type:r.Input,args:["pallets"]}],_context:[{type:r.Input,args:["context"]}],change:[{type:r.Output,args:["change"]}]},e}(),a=function(){function e(e,t){this.colorPickerService=e,this.cdr=t,this.options={},this.color="#ffffff",this.title="",this.colorChange=new r.EventEmitter,this._pickerConfig={alpha:!1,pickerShow:!1,noHide:!1,debug:!1,outFormat:"hex6",inputFormat:"hex6",availPallets:["polaris","material"],customPallets:[]},this.colorInit=!1,this.pickerOpen=!1,this.pickerPallets=[],this.hsva={hue:0,saturation:100,value:100,alpha:1},this.currentColor="rgb(255,0,0)",this.currentColorMax="rgba(255,0,0,1)",this.currentColorAlpha="rgba(255,0,0,1)",this.currentColorAlphaZero="rgba(255,0,0,0)",this.uuid="picker-",this.allowedFormats=["hex6","hex8","rgb","rgba"],this.alphaFormats=["hex8","rgba"],this.oldColor="",this.uuid=this.colorPickerService.getPickerUuid()}return e.prototype.componentClick=function(e){if(this.pickerOpen&&!this._pickerConfig.noHide&&"undefined"!=typeof e.path){var t=!1;e.path.every(function(e){return"undefined"==typeof e.classList||!e.classList.contains("picker-input-holder")&&!e.classList.contains("ngx-ttitan-color-picker")||!(t=!0)}),t||this.closePicker()}},e.prototype.ngOnInit=function(){this.validateInputParams()},e.prototype.ngOnChanges=function(e){var t=this;"options"in e&&this.validateInputParams(),"color"in e&&e.color.currentValue!==e.color.previousValue&&setTimeout(function(){t.colorPickerService.colorToData(t.color,t),t.setDraggersToCurrentColor()},1)},e.prototype.openPicker=function(){this.pickerOpen=!0,"undefined"!=typeof this.paletteList&&this.paletteList.closePalette()},e.prototype.closePicker=function(){this.pickerOpen=!1,this.cdr.detectChanges()},e.prototype.validateInputParams=function(){"inputFormat"in this.options&&(-1===this.allowedFormats.indexOf(this.options.outFormat)?(this._pickerConfig.outFormat="hex6",console.group("ngx-ttitan-color-picker"),console.warn("[outFormat] must be one of this ("+this.allowedFormats.join(",")+")"),console.groupEnd()):this._pickerConfig.outFormat=this.options.outFormat+""),"inputFormat"in this.options&&(-1===this.allowedFormats.indexOf(this.options.inputFormat)?(this._pickerConfig.inputFormat=this._pickerConfig.outFormat+"",console.group("ngx-ttitan-color-picker"),console.warn("[inputFormat] must be one of this ("+this.allowedFormats.join(",")+")"),console.groupEnd()):this._pickerConfig.inputFormat=this.options.inputFormat+""),"pickerShow"in this.options&&this._pickerConfig.pickerShow!==this.options.pickerShow&&(this._pickerConfig.pickerShow=!this._pickerConfig.pickerShow),"noHide"in this.options&&this._pickerConfig.noHide!==this.options.noHide&&(this._pickerConfig.noHide=!this._pickerConfig.noHide),"debug"in this.options&&this._pickerConfig.debug!==this.options.debug&&(this._pickerConfig.debug=!this._pickerConfig.debug),"availPallets"in this.options&&(this._pickerConfig.availPallets=this.options.availPallets.filter(function(){return!0})),"customPallets"in this.options&&(this._pickerConfig.customPallets=this.options.customPallets.filter(function(){return!0})),this.colorPickerService.preparePickerPallets(this._pickerConfig.availPallets,this._pickerConfig.customPallets,this),this._pickerConfig.alpha=-1!==this.alphaFormats.indexOf(this._pickerConfig.outFormat),this._pickerConfig.pickerShow&&this.openPicker(),this.cdr.detectChanges()},e.prototype.inputColorChange=function(e){this.color=e,this.colorPickerService.colorToData(this.color,this),this.setDraggersToCurrentColor()},e.prototype.updateReturnColor=function(){this.color=this.colorPickerService.prepareReturnColor(this.hsva,this._pickerConfig.outFormat),this.colorInit&&this.oldColor!==this.color&&(this.oldColor=this.color+"",this.colorChange.emit(this.color+"")),this.colorInit=!0},e.prototype.setInputValue=function(){"undefined"!=typeof this.pickerInput&&this.pickerInput.setInputValue(this.colorPickerService.prepareReturnColor(this.hsva,this._pickerConfig.inputFormat))},e.prototype.setDraggersToCurrentColor=function(){"undefined"!=typeof this.mainColor&&this.mainColor.setDragger({x:this.hsva.saturation,y:100-this.hsva.value}),"undefined"!=typeof this.huePicker&&this.huePicker.setDragger({x:0,y:Math.round(100*this.hsva.hue/360)}),"undefined"!=typeof this.alphaPicker&&this._pickerConfig.alpha&&this.alphaPicker.setDragger({x:0,y:100-100*this.hsva.alpha}),this.cdr.detectChanges()},e.decorators=[{type:r.Component,args:[{changeDetection:r.ChangeDetectionStrategy.OnPush,selector:"lib-ngx-ttitan-color-picker",template:'<div\n  class="ngx-ttitan-color-picker-wrapper"\n>\n\n  <div class="picker-input-wrapper">\n    <div\n      [ngStyle]="{backgroundColor: color}"\n      class="debug-output"\n      *ngIf="_pickerConfig.debug"\n    >\n      {{color}}\n    </div>\n    <div class="picker-input-label" *ngIf="title !== \'\'">\n      <label [for]="uuid" >{{title}}</label>\n    </div>\n    <div class="picker-input-holder">\n      <div class="picker-color" [ngStyle]="{background: currentColorAlpha}">\n\n      </div>\n      <div class="picker-input">\n        <input\n          libNgxTTitanColorPickerInput\n          #pickerInput="libNgxTTitanColorPickerInput"\n          (inputChange)="inputColorChange($event)"\n          [format]="_pickerConfig.inputFormat"\n          [id]="uuid"\n          type="text"\n          (focus)="openPicker()"\n        />\n      </div>\n      \x3c!--<div class="picker-save-sign">--\x3e\n      \x3c!--S--\x3e\n      \x3c!--</div>--\x3e\n    </div>\n\n  </div>\n  <div class="ngx-ttitan-color-picker" [ngClass]="{\'no-alpha\': !_pickerConfig.alpha, \'open\': pickerOpen}">\n    <div class="ngx-ttitan-color-picker__MainColor">\n      <div class="ngx-ttitan-color-picker__ColorLayer" [ngStyle]="{backgroundColor: currentColorMax}" ></div>\n      <div class="ngx-ttitan-color-picker__Slidable"\n           libNgxTTitanColorPickerSelector\n           #mainColor="libNgxTTitanColorPickerSelector"\n           [context]="this"\n           (change)="colorPickerService.saturationChange($event, this)"\n      >\n        <div class="ngx-ttitan-color-picker__Dragger"\n             libNgxTTitanColorPickerDragger\n             [context]="this"\n             style="transform: translate3d(0px, 0px, 0px);"\n        ></div>\n      </div>\n    </div>\n    <div class="ngx-ttitan-color-picker__HuePicker">\n      <div class="ngx-ttitan-color-picker__Slidable"\n           libNgxTTitanColorPickerSelector\n           #huePicker="libNgxTTitanColorPickerSelector"\n           (change)="colorPickerService.hueChange($event, this)"\n           [direction]="\'vertical\'"\n           [context]="this"\n      >\n        <div class="ngx-ttitan-color-picker__Dragger"\n             libNgxTTitanColorPickerDragger\n             [pickerPad]="0"\n             style=" transform: translate3d(0px, 0px, 0px);"\n             [context]="this"\n        ></div>\n      </div>\n    </div>\n    <div class="ngx-ttitan-color-picker__AlphaPicker" *ngIf="_pickerConfig.alpha === true">\n      <div class="ngx-ttitan-color-picker__ColorLayer"\n           [ngStyle]="{background: \'linear-gradient(to top, \' + currentColorAlphaZero + \'  18px, \' + currentColor + \' calc(100% - 18px)\'}"\n      ></div>\n      <div class="ngx-ttitan-color-picker__Slidable"\n           libNgxTTitanColorPickerSelector\n           #alphaPicker="libNgxTTitanColorPickerSelector"\n           (change)="colorPickerService.alphaChange($event, this)"\n           [direction]="\'vertical\'"\n           [context]="this"\n      >\n        <div class="ngx-ttitan-color-picker__Dragger"\n             libNgxTTitanColorPickerDragger\n             [pickerPad]="0" style=" transform: translate3d(0px, 0px, 0px);"\n             [context]="this"\n        ></div>\n      </div>\n    </div>\n  </div>\n  <lib-ngx-ttitan-color-picker-palette-list\n    (change)="inputColorChange($event)"\n    [pallets]="pickerPallets"\n    [context]="this"\n  ></lib-ngx-ttitan-color-picker-palette-list>\n</div>\n\n',styles:[':host *,:host :after,:host :before{box-sizing:border-box}:host .debug-output{width:100%;height:20px}:host .picker-input-wrapper{margin-bottom:6px}:host .picker-input-wrapper .picker-input-label{margin-bottom:6px}:host .picker-input-wrapper .picker-input-label label{text-transform:uppercase;font-weight:600}:host .picker-input-wrapper .picker-input-holder{display:flex;height:33px;border:1px solid #bbb;overflow:hidden;border-radius:3px;background-color:#eee}:host .picker-input-wrapper .picker-input-holder .picker-color{flex:0 0 31px;background-color:#ff0300}:host .picker-input-wrapper .picker-input-holder .picker-input{flex:auto;background-color:transparent}:host .picker-input-wrapper .picker-input-holder .picker-input input{background-color:transparent;color:#272727;font-family:monospace;font-size:14px;border:none;outline:0;padding:8px 2px 8px 8px;width:100%}:host .picker-input-wrapper .picker-input-holder .picker-save-sign{flex:0 0 31px;line-height:33px;text-align:center}:host .ngx-ttitan-color-picker{max-height:0;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;transition:max-height .3s}:host .ngx-ttitan-color-picker.open{margin-bottom:5px;max-height:165px}:host .ngx-ttitan-color-picker__ColorLayer{position:absolute;z-index:10;top:0;left:0;height:100%;width:100%;box-shadow:inset 0 0 2px 0 rgba(0,0,0,.5);pointer-events:none}:host .ngx-ttitan-color-picker__Slidable{height:100%;width:100%;cursor:pointer}:host .ngx-ttitan-color-picker__Dragger{position:relative;z-index:30;bottom:.9rem;-webkit-transform:none;transform:none;height:18px;width:18px;margin:0 auto;-webkit-backface-visibility:hidden;backface-visibility:hidden;will-change:transform;background:0 0;border:3px solid #fff;box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08),inset 0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);border-radius:50%;pointer-events:none;touch-action:none}:host .ngx-ttitan-color-picker__MainColor{background-image:linear-gradient(45deg,#dfe3e8 25%,transparent 0),linear-gradient(-45deg,#dfe3e8 25%,transparent 0),linear-gradient(45deg,transparent 75%,#dfe3e8 0),linear-gradient(-45deg,transparent 75%,#dfe3e8 0);background-size:1.6rem 1.6rem;background-position:0 0,0 .8rem,.8rem -.8rem,-.8rem 0;position:relative;overflow:hidden;flex:auto;border-radius:4px;cursor:pointer}:host .ngx-ttitan-color-picker__MainColor .ngx-ttitan-color-picker__ColorLayer{box-shadow:inset 0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);border-radius:4px}:host .ngx-ttitan-color-picker__MainColor .ngx-ttitan-color-picker__Dragger{right:.9rem;margin:0}:host .ngx-ttitan-color-picker__MainColor:after,:host .ngx-ttitan-color-picker__MainColor:before{content:"";position:absolute;z-index:20;top:0;left:0;display:block;height:100%;width:100%;pointer-events:none;border-radius:3px}:host .ngx-ttitan-color-picker__MainColor:before{background:linear-gradient(90deg,#fff,transparent)}:host .ngx-ttitan-color-picker__MainColor:after{background-image:linear-gradient(0deg,#000,transparent);box-shadow:inset 0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08)}:host .ngx-ttitan-color-picker__AlphaPicker,:host .ngx-ttitan-color-picker__HuePicker{position:relative;overflow:hidden;height:165px;width:24px;flex:0 0 24px;margin-left:.8rem;border-width:3px;border-radius:8rem;padding:13px 0}:host .ngx-ttitan-color-picker__HuePicker{background:linear-gradient(to bottom,red 0,#ff0 21%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%);box-shadow:inset 0 0 2px 0 rgba(0,0,0,.5)}:host .ngx-ttitan-color-picker__AlphaPicker{background-image:linear-gradient(45deg,#dfe3e8 25%,transparent 0),linear-gradient(-45deg,#dfe3e8 25%,transparent 0),linear-gradient(45deg,transparent 75%,#dfe3e8 0),linear-gradient(-45deg,transparent 75%,#dfe3e8 0);background-size:1.6rem 1.6rem;background-position:0 0,0 .8rem,.8rem -.8rem,-.8rem 0}:host .ngx-ttitan-color-picker__AlphaPicker .ngx-ttitan-color-picker__ColorLayer{border-radius:8rem}:host .ngx-ttitan-color-picker.no-alpha .ngx-ttitan-color-picker__MainColor{width:200px}']}]}],e.ctorParameters=function(){return[{type:o},{type:r.ChangeDetectorRef}]},e.propDecorators={componentClick:[{type:r.HostListener,args:["click",["$event"]]}],options:[{type:r.Input,args:["options"]}],color:[{type:r.Input,args:["color"]}],title:[{type:r.Input,args:["title"]}],colorChange:[{type:r.Output,args:["colorChange"]}],pickerInput:[{type:r.ViewChild,args:["pickerInput"]}],paletteList:[{type:r.ViewChild,args:[n]}],mainColor:[{type:r.ViewChild,args:["mainColor"]}],huePicker:[{type:r.ViewChild,args:["huePicker"]}],alphaPicker:[{type:r.ViewChild,args:["alphaPicker"]}]},e}(),s=function(){function e(e){this.elRef=e,this.pickerPad=0}return e.prototype.setPosition=function(e,t,r){var i=this.elRef.nativeElement.getBoundingClientRect();"vertical"!=r&&"both"!=r||(this.elRef.nativeElement.style.top=Math.round(t-i.height/2)+"px"),"horizontal"!=r&&"both"!=r||(this.elRef.nativeElement.style.left=Math.round(e-i.width/2)+"px")},e.decorators=[{type:r.Directive,args:[{selector:"[libNgxTTitanColorPickerDragger]"}]}],e.ctorParameters=function(){return[{type:r.ElementRef}]},e.propDecorators={pickerPad:[{type:r.Input,args:["pickerPad"]}],_context:[{type:r.Input,args:["context"]}]},e}(),c=function(){function e(e,t){this.elRef=e,this.colorPickerService=t,this.direction="both",this.change=new r.EventEmitter,this.el=null,this.dragStart=!1,this.globalMouseMove=null,this.globalMouseUp=null,this.dragger=null,this.el=this.elRef.nativeElement,this.direction=-1===["both","vertical","horizontal"].indexOf(this.direction)?"both":this.direction}return e.prototype.onMouseDown=function(e){this.dragStart=!0,this.eventsSubscibe(),this.getPosition(e)},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.eventsSubscibe=function(){var t=this;this.globalMouseMove=this.colorPickerService.mouseMoveObservable.subscribe(function(e){t.dragStart&&t.getPosition(e)}),this.globalMouseUp=this.colorPickerService.mouseUpObservable.subscribe(function(e){t.dragStart&&(t.dragStart=!1,t.eventsUnSubscibe(),t.getPosition(e))})},e.prototype.eventsUnSubscibe=function(){null!==this.globalMouseMove&&this.globalMouseMove.unsubscribe(),null!==this.globalMouseUp&&this.globalMouseUp.unsubscribe()},e.prototype.setDragger=function(e){if(null!==this.dragger){var t=this.getRect(this.el),r=Math.round((t.width-2*this.dragger.pickerPad)*e.x/100),i=Math.round((t.height-2*this.dragger.pickerPad)*e.y/100);this.dragger.setPosition(r>this.dragger.pickerPad?r:this.dragger.pickerPad,i>this.dragger.pickerPad?i:this.dragger.pickerPad,this.direction)}},e.prototype.getPosition=function(e){var t=e.pageY,r=e.pageX,i=this.getRect(this.el),o={x:0,y:0};"vertical"!=this.direction&&"both"!=this.direction||(o.y=Math.round(100*(t-i.top)/(i.height-2*this.dragger.pickerPad)),o.y<0?o.y=0:100<o.y&&(o.y=100)),"horizontal"!=this.direction&&"both"!=this.direction||(o.x=Math.round(100*(r-i.left)/(i.width-2*this.dragger.pickerPad)),o.x<0?o.x=0:100<o.x&&(o.x=100)),this.setDragger(o),this.change.emit(o)},e.prototype.getRect=function(e){var t=e.getBoundingClientRect(),r=document.body,i=document.documentElement,o=window.pageYOffset||i.scrollTop||r.scrollTop,n=window.pageXOffset||i.scrollLeft||r.scrollLeft,a=i.clientTop||r.clientTop||0,s=i.clientLeft||r.clientLeft||0;return{height:t.height,left:t.left+n-s,top:t.top+o-a,width:t.width}},e.decorators=[{type:r.Directive,args:[{selector:"[libNgxTTitanColorPickerSelector]",exportAs:"libNgxTTitanColorPickerSelector"}]}],e.ctorParameters=function(){return[{type:r.ElementRef},{type:o}]},e.propDecorators={onMouseDown:[{type:r.HostListener,args:["mousedown",["$event"]]}],direction:[{type:r.Input,args:["direction"]}],_context:[{type:r.Input,args:["context"]}],change:[{type:r.Output,args:["change"]}],dragger:[{type:r.ContentChild,args:[s]}]},e}(),l=function(){function e(e,t){this.el=e,this.colorPickerService=t,this.format="hex6",this.inputChange=new r.EventEmitter}return e.prototype.keyUp=function(){this.inputValidate()},e.prototype.change=function(){this.inputValidate()},e.prototype.setInputValue=function(e){this.el.nativeElement.value=e},e.prototype.inputValidate=function(){var e=this.colorPickerService.validateColorFormat(this.el.nativeElement.value,this.format);"notValid"!==e&&(this.el.nativeElement.value=e,this.inputChange.emit(e))},e.decorators=[{type:r.Directive,args:[{selector:"[libNgxTTitanColorPickerInput]",exportAs:"libNgxTTitanColorPickerInput"}]}],e.ctorParameters=function(){return[{type:r.ElementRef},{type:o}]},e.propDecorators={format:[{type:r.Input,args:["format"]}],inputChange:[{type:r.Output,args:["inputChange"]}],keyUp:[{type:r.HostListener,args:["keyup"]}],change:[{type:r.HostListener,args:["change"]}]},e}(),p=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[i.CommonModule],declarations:[a,c,s,l,n],exports:[a],providers:[o]}]}],e}();e.NgxTTitanColorPickerService=o,e.NgxTTitanColorPickerComponent=a,e.NgxTTitanColorPickerModule=p,e.ɵc=s,e.ɵd=l,e.ɵa=n,e.ɵb=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-ttitan-color-picker.umd.min.js.map