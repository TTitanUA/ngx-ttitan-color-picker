!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/index"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-ttitan-color-picker",["exports","@angular/core","rxjs/index","@angular/common"],t):t(e["ngx-ttitan-color-picker"]={},e.ng.core,e.rxjs.index,e.ng.common)}(this,function(e,o,t,r){"use strict";var i=function(){function e(){this.debug=!1,this.pickerList=[],this.pallets=[],this.mouseMoveObservable=t.fromEvent(document,"mousemove"),this.mouseUpObservable=t.fromEvent(document,"mouseup"),this.fillBasePallets()}return e.prototype.saturationChange=function(e,t){t.hsva.saturation=e.x,t.hsva.value=100-e.y,this.dataToColor(t)},e.prototype.hueChange=function(e,t){t.hsva.hue=Math.round(360*e.y/100),this.dataToColor(t)},e.prototype.alphaChange=function(e,t){t.hsva.alpha=(100-e.y)/100,this.dataToColor(t)},e.prototype.dataToColor=function(e){var t=this.hsvaToRgba(e.hsva.hue,e.hsva.saturation,e.hsva.value,e.hsva.alpha),r=this.hsvaToRgba(e.hsva.hue,100,100,e.hsva.alpha);e.currentColor="rgb("+t[0]+","+t[1]+","+t[2]+")",e.currentColorMax="rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")",e.currentColorAlpha="rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")",e.currentColorAlphaZero="rgba("+t[0]+","+t[1]+","+t[2]+",0)",e.setInputValue(),e.updateReturnColor()},e.prototype.colorToData=function(e,t){switch(this.detectColorType(e)){case"rgba":this.parseRgbaColor(e,t);break;case"rgb":this.parseRgbColor(e,t);break;case"hsla":this.parseHslaColor(e,t);break;case"hsl":this.parseHslColor(e,t);break;case"hex6":case"hex8":this.parseHexColor(e,t)}this.dataToColor(t)},e.prototype.getPickerUuid=function(){for(var e="",t=0;t<1e3;t++)if(e="picker-"+this.pickerList.length+"-"+t,-1===this.pickerList.indexOf(e))return this.pickerList.push(e),e},e.prototype.detectColorType=function(e){return-1!==e.indexOf("rgba")?"rgba":-1!==e.indexOf("rgb")?"rgb":-1!==e.indexOf("hsla")?"hsla":-1!==e.indexOf("hsl")?"hsl":-1===e.indexOf("#")||4!=e.length&&7!=e.length?-1!==e.indexOf("#")&&9==e.length?"hex8":"undefined":"hex6"},e.prototype.fillValuesFromHsvaArr=function(e,t){t.hsva.hue=e[0],t.hsva.saturation=e[1],t.hsva.value=e[2],t.hsva.alpha=e[3]},e.prototype.parseRgbaColor=function(e,t){var r=e.replace("rgba(","").replace(")","").split(",");4==r.length&&this.fillValuesFromHsvaArr(this.rgbaToHsva(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]),parseInt(r[3])),t)},e.prototype.parseRgbColor=function(e,t){var r=e.replace("rgb(","").replace(")","").split(",");3==r.length&&this.fillValuesFromHsvaArr(this.rgbaToHsva(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]),1),t)},e.prototype.parseHslaColor=function(e,t){var r=e.replace("hsla(","").replace(")","").replace("%","").split(",");4==r.length&&this.fillValuesFromHsvaArr(this.hslaToHsva(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]),parseInt(r[3])),t)},e.prototype.parseHslColor=function(e,t){var r=e.replace("hsl(","").replace(")","").replace("%","").split(",");3==r.length&&this.fillValuesFromHsvaArr(this.hslaToHsva(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]),1),t)},e.prototype.parseHexColor=function(e,t){var r=e.replace("#","");this.fillValuesFromHsvaArr(this.hexToHsva(r),t)},e.prototype.hsvaToRgba=function(e,t,r,o){var i,a,n,s,l,c,p,h;switch(a=(r/=100)*(1-(t/=100)),n=r*(1-t*(i=(e=e<360?e:359)/60-(l=Math.floor(e/60)))),s=r*(1-(1-i)*t),l){case 0:c=r,p=s,h=a;break;case 1:c=n,p=r,h=a;break;case 2:c=a,p=r,h=s;break;case 3:c=a,p=n,h=r;break;case 4:c=s,p=a,h=r;break;case 5:c=r,p=a,h=n}return[Math.round(255*c),Math.round(255*p),Math.round(255*h),o]},e.prototype.hsvaToRgbaString=function(e,t,r,o,i){void 0===i&&(i=!1);var a=this.hsvaToRgba(e,t,r,o);return i?"rgba("+a.join(",")+")":(a.pop(),"rgb("+a.join(",")+")")},e.prototype.rgbaToHsva=function(e,t,r,o){e/=255,t/=255,r/=255;var i,a,n=Math.max(e,t,r),s=Math.min(e,t,r),l=n,c=n-s;if(a=0==n?0:c/n,n==s)i=0;else{switch(n){case e:i=(t-r)/c+(t<r?6:0);break;case t:i=(r-e)/c+2;break;case r:i=(e-t)/c+4}i/=6}return[360*i,100*a,100*l,o]},e.prototype.hsvaToHsla=function(e,t,r,o){return t/=100,r/=100,[Math.round(e),Math.round(t*r/((e=(2-t)*r)<1?e:2-e)*100),Math.round(e/2*100),o]},e.prototype.hslaToHsva=function(e,t,r,o){return t/=100,t*=(r/=100)<.5?r:1-r,[e,Math.round(2*t/(r+t)*100),Math.round(100*(r+t)),o]},e.prototype.hexToHsva=function(e){var t=[0,0,0,1];return 6==e.length?t=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),1]:3==e.length?t=[parseInt(e.substring(0,1)+e.substring(0,1),16),parseInt(e.substring(1,2)+e.substring(1,2),16),parseInt(e.substring(2,3)+e.substring(2,3),16),1]:8==e.length&&(t=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),parseFloat((parseInt(e.substring(6,8),16)/255).toFixed(2))]),this.rgbaToHsva(t[0],t[1],t[2],t[3])},e.prototype.hsvaToHex=function(e,t,r,o,i){void 0===i&&(i=!0);var a=this.hsvaToRgba(e,t,r,o),n=i?(255*a[3]).toString(16).substring(0,2):"";return i&&(n=1==n.length?n+n:n),"#"+(a[2]|a[1]<<8|a[0]<<16|1<<24).toString(16).slice(1)+n},e.prototype.validateColorFormat=function(e,t){switch(t){case"hex6":return this.validateHexFormat(e);case"hex8":return this.validateHexFormat(e,!0);case"rgb":return this.validateRgbaFormat(e);case"rgba":return this.validateRgbaFormat(e,!0)}return"notValid"},e.prototype.validateHexFormat=function(e,t){void 0===t&&(t=!1);if(e=e.replace("#",""),t){if(8===e.length&&!isNaN(parseInt(e,16)))return"#"+e}else if(6===e.length&&!isNaN(parseInt(e,16)))return"#"+e;return"notValid"},e.prototype.validateRgbaFormat=function(e,t){void 0===t&&(t=!1);var r=(e=e.replace(/[^0-9\,]+/g,"")).split(","),o="";if(t){if(4==r.length&&(o=parseFloat(r.pop()),r=r.map(function(e){return parseInt(e)}),Math.max.apply(null,r)<=255&&0<=Math.min.apply(null,r)&&0<=o&&o<=1))return r.push(o),"rgba("+r.join(",")+")"}else if(3==r.length&&(r=r.map(function(e){return parseInt(e)}),Math.max.apply(null,r)<=255&&0<=Math.min.apply(null,r)))return"rgb("+r.join(",")+")";return"notValid"},e.prototype.prepareReturnColor=function(e,t){switch(t){case"hex6":return this.hsvaToHex(e.hue,e.saturation,e.value,1,!1);case"hex8":return this.hsvaToHex(e.hue,e.saturation,e.value,e.alpha,!0);case"rgb":return this.hsvaToRgbaString(e.hue,e.saturation,e.value,1);case"rgba":return this.hsvaToRgbaString(e.hue,e.saturation,e.value,e.alpha,!0)}return this.hsvaToHex(e.hue,e.saturation,e.value,1,!1)},e.prototype.preparePickerPallets=function(t,e,r){void 0===t&&(t=[]),void 0===e&&(e=[]),this.pallets.forEach(function(e){-1!==t.indexOf(e.id)&&r.pickerPallets.push(e)}),e.forEach(function(e){r.pickerPallets.push(e)})},e.prototype.fillBasePallets=function(){this.pallets.push({id:"polaris",name:"Polaris",colors:["#F9FAFB","#F4F6F8","#DFE3E8","#C4CDD5","#919EAB","#637381","#454F5B","#212B36","#B3B5CB","#43467F","#1C2260","#00044C","#F6F0FD","#E3D0FF","#9C6ADE","#50248F","#230051","#F4F5FA","#B3BCF5","#5C6AC4","#202E78","#000639","#EBF5FA","#B4E1FA","#007ACE","#084E8A","#001429","#E0F5F5","#B7ECEC","#47C1BF","#00848E","#003135","#E3F1DF","#BBE5B3","#50B83C","#108043","#173630","#FCF1CD","#FFEA8A","#EEC200","#9C6F19","#573B00","#FCEBDB","#FFC58B","#F49342","#C05717","#4A1504","#FBEAE5","#FEAD9A","#DE3618","#BF0711","#330101"]}),this.pallets.push({id:"material",name:"Material",colors:["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#ff8a80","#ff5252","#ff1744","#d50000","#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#ff80ab","#ff4081","#f50057","#c51162","#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ea80fc","#e040fb","#d500f9","#aa00ff","#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#b388ff","#7c4dff","#651fff","#6200ea","#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#8c9eff","#536dfe","#3d5afe","#304ffe","#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#82b1ff","#448aff","#2979ff","#2962ff","#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#80d8ff","#40c4ff","#00b0ff","#0091ea","#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#84ffff","#18ffff","#00e5ff","#00b8d4","#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#a7ffeb","#64ffda","#1de9b6","#00bfa5","#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#b9f6ca","#69f0ae","#00e676","#00c853","#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#ccff90","#b2ff59","#76ff03","#64dd17","#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#f4ff81","#eeff41","#c6ff00","#aeea00","#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#ffff8d","#ffff00","#ffea00","#ffd600","#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00","#ffe57f","#ffd740","#ffc400","#ffab00","#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#ffd180","#ffab40","#ff9100","#ff6d00","#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c","#ff9e80","#ff6e40","#ff3d00","#dd2c00","#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723","#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121","#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238"]})},e.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=o.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),a=function(){function e(){this.pallets=[],this.change=new o.EventEmitter,this.activePalette=null}return e.prototype.ngOnInit=function(){},e.prototype.closePalette=function(){this.activePalette=null},e.prototype.selectPalette=function(e){null==this.activePalette?this.activePalette=e:this.activePalette.id!==e.id&&(this.activePalette=e)},e.prototype.colorSelected=function(e){this.change.emit(e)},e.decorators=[{type:o.Component,args:[{selector:"lib-ngx-ttitan-color-picker-palette-list",template:'<div class="picker-palette-wrapper" *ngIf="pallets.length > 0">\n  <div class="palette-links">\n    <div\n      class="palette-link"\n      *ngFor="let palette of pallets"\n      [ngClass]="{\'selected\': (activePalette !== null && activePalette.id == palette.id)}"\n      (click)="selectPalette(palette)"\n    >\n      {{palette.name}}\n    </div>\n  </div>\n  <div class="palette-picker-holder" *ngIf="activePalette !== null && activePalette.colors.length > 0">\n    <div\n      class="palette-color"\n      *ngFor="let color of activePalette.colors"\n      [ngStyle]="{\n        backgroundColor: color\n      }"\n      (click)="colorSelected(color)"\n    >\n\n    </div>\n  </div>\n</div>\n',styles:[":host .picker-palette-wrapper .palette-links{display:flex;flex-wrap:wrap;margin-bottom:5px}:host .picker-palette-wrapper .palette-links .palette-link{margin-right:5px;border-radius:3px;padding:2px 4px;border:1px solid #ddd;text-transform:uppercase;font-size:10px;font-family:-apple-system,BlinkMacSystemFont,San Francisco,Roboto,Segoe UI,Helvetica Neue,sans-serif;font-weight:600;background-color:#fff;cursor:pointer}:host .picker-palette-wrapper .palette-links .palette-link.selected{background-color:#5e6bc5;color:#fff}:host .picker-palette-wrapper .palette-picker-holder{height:165px;display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:flex-start;align-content:baseline}:host .picker-palette-wrapper .palette-picker-holder .palette-color{cursor:pointer;width:10px;height:10px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={pallets:[{type:o.Input,args:["pallets"]}],change:[{type:o.Output,args:["change"]}]},e}(),n=function(){function e(e,t){this.colorPickerService=e,this.cdr=t,this.alpha=!1,this.debug=!1,this.color="rgba(255,255,255,0)",this.title="title",this.outFormat="hex6",this.inputFormat="hex6",this.availPallets=["polaris","material"],this.customPallets=[],this.colorChanged=new o.EventEmitter,this.mainColor=null,this.colorInit=!1,this.pickerOpen=!1,this.pickerPallets=[],this.hsva={hue:0,saturation:100,value:100,alpha:1},this.currentColor="rgb(255,0,0)",this.currentColorMax="rgba(255,0,0,1)",this.currentColorAlpha="rgba(255,0,0,1)",this.currentColorAlphaZero="rgba(255,0,0,0)",this.uuid="picker-",this.allowedFormats=["hex6","hex8","rgb","rgba"],this.uuid=this.colorPickerService.getPickerUuid()}return e.prototype.componentClick=function(e){if(this.pickerOpen&&"undefined"!=typeof e.path){var t=!1;e.path.every(function(e){return"undefined"==typeof e.classList||!e.classList.contains("picker-input-holder")&&!e.classList.contains("ngx-ttitan-color-picker")||!(t=!0)}),t||this.closePicker()}},e.prototype.ngOnInit=function(){this.colorPickerService.debug=this.debug,this.validateInputParams(),this.colorPickerService.preparePickerPallets(this.availPallets,this.customPallets,this),this.colorPickerService.colorToData(this.color,this),this.cdr.detectChanges()},e.prototype.ngAfterViewInit=function(){this.setDraggesToCurrentColor()},e.prototype.openPicker=function(){this.pickerOpen=!0,"undefined"!=typeof this.paletteList&&this.paletteList.closePalette()},e.prototype.closePicker=function(){this.pickerOpen=!1},e.prototype.validateInputParams=function(){-1===this.allowedFormats.indexOf(this.outFormat)&&(this.outFormat="hex6",console.group("ngx-ttitan-color-picker"),console.warn("[outFormat] must be one of this ("+this.allowedFormats.join(",")+")"),console.groupEnd()),-1===this.allowedFormats.indexOf(this.inputFormat)&&(this.inputFormat=this.outFormat+"",console.group("ngx-ttitan-color-picker"),console.warn("[inputFormat] must be one of this ("+this.allowedFormats.join(",")+")"),console.groupEnd())},e.prototype.inputColorChange=function(e){this.color=e,this.colorPickerService.colorToData(this.color,this),this.setDraggesToCurrentColor()},e.prototype.updateReturnColor=function(){this.color=this.colorPickerService.prepareReturnColor(this.hsva,this.outFormat),this.colorInit&&this.colorChanged.emit(this.color+""),this.colorInit=!0},e.prototype.setInputValue=function(){"undefined"!=typeof this.pickerInput&&this.pickerInput.setInputValue(this.colorPickerService.prepareReturnColor(this.hsva,this.inputFormat))},e.prototype.setDraggesToCurrentColor=function(){null!==this.mainColor&&this.mainColor.setDragger({x:this.hsva.saturation,y:100-this.hsva.value}),"undefined"!=typeof this.huePicker&&this.huePicker.setDragger({x:0,y:Math.round(100*this.hsva.hue/360)}),"undefined"!=typeof this.alphaPicker&&this.alpha&&this.alphaPicker.setDragger({x:0,y:100-100*this.hsva.alpha})},e.decorators=[{type:o.Component,args:[{changeDetection:o.ChangeDetectionStrategy.OnPush,selector:"lib-ngx-ttitan-color-picker",template:'<div\n  class="ngx-ttitan-color-picker-wrapper"\n>\n\n  <div class="picker-input-wrapper">\n    <div\n      [ngStyle]="{backgroundColor: color}"\n      class="debug-output"\n      *ngIf="colorPickerService.debug"\n    >\n      {{color}}\n    </div>\n    <div class="picker-input-label">\n      <label [for]="uuid" >{{title}}</label>\n    </div>\n    <div class="picker-input-holder">\n      <div class="picker-color" [ngStyle]="{background: currentColorAlpha}">\n\n      </div>\n      <div class="picker-input">\n        <input\n          libNgxTTitanColorPickerInput\n          #pickerInput="libNgxTTitanColorPickerInput"\n          (inputChange)="inputColorChange($event)"\n          [format]="inputFormat"\n          [id]="uuid"\n          type="text"\n          (focus)="openPicker()"\n        />\n      </div>\n      \x3c!--<div class="picker-save-sign">--\x3e\n      \x3c!--S--\x3e\n      \x3c!--</div>--\x3e\n    </div>\n\n  </div>\n  <div class="ngx-ttitan-color-picker" [ngClass]="{\'no-alpha\': !alpha, \'open\': pickerOpen}">\n    <div class="ngx-ttitan-color-picker__MainColor">\n      <div class="ngx-ttitan-color-picker__ColorLayer" [ngStyle]="{backgroundColor: currentColorMax}" ></div>\n      <div class="ngx-ttitan-color-picker__Slidable" libNgxTTitanColorPickerSelector #mainColor="libNgxTTitanColorPickerSelector" (change)="colorPickerService.saturationChange($event, this)">\n        <div class="ngx-ttitan-color-picker__Dragger" libNgxTTitanColorPickerDragger style="transform: translate3d(0px, 0px, 0px);"></div>\n      </div>\n    </div>\n    <div class="ngx-ttitan-color-picker__HuePicker">\n      <div class="ngx-ttitan-color-picker__Slidable" libNgxTTitanColorPickerSelector #huePicker="libNgxTTitanColorPickerSelector" (change)="colorPickerService.hueChange($event, this)" [direction]="\'vertical\'">\n        <div class="ngx-ttitan-color-picker__Dragger" libNgxTTitanColorPickerDragger [pickerPad]="0" style=" transform: translate3d(0px, 0px, 0px);"></div>\n      </div>\n    </div>\n    <div class="ngx-ttitan-color-picker__AlphaPicker" *ngIf="alpha === true">\n      <div class="ngx-ttitan-color-picker__ColorLayer"\n\n           [ngStyle]="{background: \'linear-gradient(to top, \' + currentColorAlphaZero + \'  18px, \' + currentColor + \' calc(100% - 18px)\'}"\n      ></div>\n      <div class="ngx-ttitan-color-picker__Slidable" libNgxTTitanColorPickerSelector #alphaPicker="libNgxTTitanColorPickerSelector" (change)="colorPickerService.alphaChange($event, this)" [direction]="\'vertical\'">\n        <div class="ngx-ttitan-color-picker__Dragger" libNgxTTitanColorPickerDragger [pickerPad]="0" style=" transform: translate3d(0px, 0px, 0px);"></div>\n      </div>\n    </div>\n    \x3c!--<div style="height: 40px; width: 40px" [ngStyle]="{background: currentColor}">--\x3e\n\n    \x3c!--</div>--\x3e\n    \x3c!--<div style="height: 40px; width: 40px" [ngStyle]="{background: currentColorAlpha}">--\x3e\n\n    \x3c!--</div>--\x3e\n  </div>\n  <lib-ngx-ttitan-color-picker-palette-list\n    (change)="inputColorChange($event)"\n    [pallets]="pickerPallets"\n  >\n\n  </lib-ngx-ttitan-color-picker-palette-list>\n</div>\n\n',styles:[':host *,:host :after,:host :before{box-sizing:border-box}:host .debug-output{width:100%;height:20px}:host .picker-input-wrapper{margin-bottom:6px}:host .picker-input-wrapper .picker-input-label{margin-bottom:6px}:host .picker-input-wrapper .picker-input-label label{text-transform:uppercase;font-weight:600}:host .picker-input-wrapper .picker-input-holder{display:flex;height:33px;border:1px solid #bbb;overflow:hidden;border-radius:3px;background-color:#eee}:host .picker-input-wrapper .picker-input-holder .picker-color{flex:0 0 31px;background-color:#ff0300}:host .picker-input-wrapper .picker-input-holder .picker-input{flex:auto;background-color:transparent}:host .picker-input-wrapper .picker-input-holder .picker-input input{background-color:transparent;color:#272727;font-family:monospace;font-size:14px;border:none;outline:0;padding:8px 2px 8px 8px;width:100%}:host .picker-input-wrapper .picker-input-holder .picker-save-sign{flex:0 0 31px;line-height:33px;text-align:center}:host .ngx-ttitan-color-picker{max-height:0;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;transition:max-height .3s}:host .ngx-ttitan-color-picker.open{margin-bottom:5px;max-height:165px}:host .ngx-ttitan-color-picker__ColorLayer{position:absolute;z-index:10;top:0;left:0;height:100%;width:100%;box-shadow:inset 0 0 2px 0 rgba(0,0,0,.5);pointer-events:none}:host .ngx-ttitan-color-picker__Slidable{height:100%;width:100%;cursor:pointer}:host .ngx-ttitan-color-picker__Dragger{position:relative;z-index:30;bottom:.9rem;-webkit-transform:none;transform:none;height:18px;width:18px;margin:0 auto;-webkit-backface-visibility:hidden;backface-visibility:hidden;will-change:transform;background:0 0;border:3px solid #fff;box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08),inset 0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);border-radius:50%;pointer-events:none;touch-action:none}:host .ngx-ttitan-color-picker__MainColor{background-image:linear-gradient(45deg,#dfe3e8 25%,transparent 0),linear-gradient(-45deg,#dfe3e8 25%,transparent 0),linear-gradient(45deg,transparent 75%,#dfe3e8 0),linear-gradient(-45deg,transparent 75%,#dfe3e8 0);background-size:1.6rem 1.6rem;background-position:0 0,0 .8rem,.8rem -.8rem,-.8rem 0;position:relative;overflow:hidden;width:165px;height:165px;border-radius:4px;cursor:pointer}:host .ngx-ttitan-color-picker__MainColor .ngx-ttitan-color-picker__ColorLayer{box-shadow:inset 0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);border-radius:4px}:host .ngx-ttitan-color-picker__MainColor .ngx-ttitan-color-picker__Dragger{right:.9rem;margin:0}:host .ngx-ttitan-color-picker__MainColor:after,:host .ngx-ttitan-color-picker__MainColor:before{content:"";position:absolute;z-index:20;top:0;left:0;display:block;height:100%;width:100%;pointer-events:none;border-radius:3px}:host .ngx-ttitan-color-picker__MainColor:before{background:linear-gradient(90deg,#fff,transparent)}:host .ngx-ttitan-color-picker__MainColor:after{background-image:linear-gradient(0deg,#000,transparent);box-shadow:inset 0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08)}:host .ngx-ttitan-color-picker__AlphaPicker,:host .ngx-ttitan-color-picker__HuePicker{position:relative;overflow:hidden;height:165px;width:24px;margin-left:.8rem;border-width:3px;border-radius:8rem;padding:13px 0}:host .ngx-ttitan-color-picker__HuePicker{background:linear-gradient(to bottom,red 0,#ff0 21%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%);box-shadow:inset 0 0 2px 0 rgba(0,0,0,.5)}:host .ngx-ttitan-color-picker__AlphaPicker{background-image:linear-gradient(45deg,#dfe3e8 25%,transparent 0),linear-gradient(-45deg,#dfe3e8 25%,transparent 0),linear-gradient(45deg,transparent 75%,#dfe3e8 0),linear-gradient(-45deg,transparent 75%,#dfe3e8 0);background-size:1.6rem 1.6rem;background-position:0 0,0 .8rem,.8rem -.8rem,-.8rem 0}:host .ngx-ttitan-color-picker__AlphaPicker .ngx-ttitan-color-picker__ColorLayer{border-radius:8rem}:host .ngx-ttitan-color-picker.no-alpha .ngx-ttitan-color-picker__MainColor{width:200px}']}]}],e.ctorParameters=function(){return[{type:i},{type:o.ChangeDetectorRef}]},e.propDecorators={componentClick:[{type:o.HostListener,args:["click",["$event"]]}],alpha:[{type:o.Input,args:["alpha"]}],debug:[{type:o.Input,args:["debug"]}],color:[{type:o.Input,args:["color"]}],title:[{type:o.Input,args:["title"]}],outFormat:[{type:o.Input,args:["outFormat"]}],inputFormat:[{type:o.Input,args:["inputFormat"]}],availPallets:[{type:o.Input,args:["availPallets"]}],customPallets:[{type:o.Input,args:["customPallets"]}],colorChanged:[{type:o.Output,args:["colorChanged"]}],pickerInput:[{type:o.ViewChild,args:["pickerInput"]}],paletteList:[{type:o.ViewChild,args:[a]}],mainColor:[{type:o.ViewChild,args:["mainColor"]}],huePicker:[{type:o.ViewChild,args:["huePicker"]}],alphaPicker:[{type:o.ViewChild,args:["alphaPicker"]}]},e}(),s=function(){function e(e){this.elRef=e,this.pickerPad=0}return e.prototype.setPosition=function(e,t,r){var o=this.elRef.nativeElement.getBoundingClientRect();"vertical"!=r&&"both"!=r||(this.elRef.nativeElement.style.top=Math.round(t-o.height/2)+"px"),"horizontal"!=r&&"both"!=r||(this.elRef.nativeElement.style.left=Math.round(e-o.width/2)+"px")},e.decorators=[{type:o.Directive,args:[{selector:"[libNgxTTitanColorPickerDragger]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef}]},e.propDecorators={pickerPad:[{type:o.Input,args:["pickerPad"]}]},e}(),l=function(){function e(e,t){var r=this;this.elRef=e,this.colorPickerService=t,this.direction="both",this.dragger=null,this.change=new o.EventEmitter,this.el=null,this.dragStart=!1,this.globalMouseMove=null,this.globalMouseUp=null,this.el=this.elRef.nativeElement,this.direction=-1===["both","vertical","horizontal"].indexOf(this.direction)?"both":this.direction,this.globalMouseMove=this.colorPickerService.mouseMoveObservable.subscribe(function(e){r.dragStart&&r.getPosition(e)}),this.globalMouseUp=this.colorPickerService.mouseUpObservable.subscribe(function(e){r.dragStart&&(r.dragStart=!1,r.getPosition(e))})}return e.prototype.onMouseDown=function(e){this.dragStart=!0,this.getPosition(e)},e.prototype.ngOnDestroy=function(){null!==this.globalMouseMove&&this.globalMouseMove.unsubscribe(),null!==this.globalMouseUp&&this.globalMouseUp.unsubscribe()},e.prototype.setDragger=function(e){if(null!==this.dragger){var t=this.getRect(this.el),r=Math.round((t.width-2*this.dragger.pickerPad)*e.x/100),o=Math.round((t.height-2*this.dragger.pickerPad)*e.y/100);this.dragger.setPosition(r>this.dragger.pickerPad?r:this.dragger.pickerPad,o>this.dragger.pickerPad?o:this.dragger.pickerPad,this.direction)}},e.prototype.getPosition=function(e){var t=e.pageY,r=e.pageX,o=this.getRect(this.el),i={x:0,y:0};"vertical"!=this.direction&&"both"!=this.direction||(i.y=Math.round(100*(t-o.top)/(o.height-2*this.dragger.pickerPad)),i.y<0?i.y=0:100<i.y&&(i.y=100)),"horizontal"!=this.direction&&"both"!=this.direction||(i.x=Math.round(100*(r-o.left)/(o.width-2*this.dragger.pickerPad)),i.x<0?i.x=0:100<i.x&&(i.x=100)),this.setDragger(i),this.change.emit(i)},e.prototype.getRect=function(e){var t=e.getBoundingClientRect(),r=document.body,o=document.documentElement,i=window.pageYOffset||o.scrollTop||r.scrollTop,a=window.pageXOffset||o.scrollLeft||r.scrollLeft,n=o.clientTop||r.clientTop||0,s=o.clientLeft||r.clientLeft||0;return{height:t.height,left:t.left+a-s,top:t.top+i-n,width:t.width}},e.decorators=[{type:o.Directive,args:[{selector:"[libNgxTTitanColorPickerSelector]",exportAs:"libNgxTTitanColorPickerSelector"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:i}]},e.propDecorators={direction:[{type:o.Input,args:["direction"]}],dragger:[{type:o.ContentChild,args:[s]}],change:[{type:o.Output,args:["change"]}],onMouseDown:[{type:o.HostListener,args:["mousedown",["$event"]]}]},e}(),c=function(){function e(e,t){this.el=e,this.colorPickerService=t,this.format="hex6",this.inputChange=new o.EventEmitter}return e.prototype.keyUp=function(){this.inputValidate()},e.prototype.change=function(){this.inputValidate()},e.prototype.setInputValue=function(e){this.el.nativeElement.value=e},e.prototype.inputValidate=function(){var e=this.colorPickerService.validateColorFormat(this.el.nativeElement.value,this.format);"notValid"!==e&&(this.el.nativeElement.value=e,this.inputChange.emit(e))},e.decorators=[{type:o.Directive,args:[{selector:"[libNgxTTitanColorPickerInput]",exportAs:"libNgxTTitanColorPickerInput"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:i}]},e.propDecorators={format:[{type:o.Input,args:["format"]}],inputChange:[{type:o.Output,args:["inputChange"]}],keyUp:[{type:o.HostListener,args:["keyup"]}],change:[{type:o.HostListener,args:["change"]}]},e}(),p=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[r.CommonModule],declarations:[n,l,s,c,a],exports:[n]}]}],e}();e.NgxTTitanColorPickerService=i,e.NgxTTitanColorPickerComponent=n,e.NgxTTitanColorPickerModule=p,e.ɵc=s,e.ɵd=c,e.ɵa=a,e.ɵb=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-ttitan-color-picker.umd.min.js.map